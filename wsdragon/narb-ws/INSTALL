*************************************
NARB Web Services Installation Guide
*************************************
=====================================
Overview
=====================================
1. Install Java 5.0
2. Install Tomcat 5.5
3. Install Axis2
4. Install NARB web services
5. Run test client

=====================================
1. Install Java 5.0
=====================================
-Install and setup
	1. Download JDK 5.0 from http://java.sun.com/javase/downloads/index_jdk5.jsp
	2. Follow the installation instructions for your operating. 
	3. When installation is complete set the JAVA_HOME environment variable to the installation location of Java 5 (i.e. /usr/local/java5)
		commands:
			JAVA_HOME=/usr/local/java5
			export JAVA_HOME
		
=====================================	
2. Install Tomcat 5.5
=====================================
-Initial Setup
	1. Download Tomcat from http://tomcat.apache.org/download-55.cgi
	   The "Core" package under "Binary Distributions" should be adequate.
	2. Unzip the Tomcat file downloaded
	3. Move the unzipped folder to directory in which tomcat will run (i.e. /usr/local/tomcat)
	4. Set the CATALINA_HOME environment variable
		commands:
			CATALINA_HOME=/usr/local/tomcat
			export CATALINA_HOME
- Configure usernames and password
	1. Open $CATALINA_HOME/conf/tomcat-users.xml
	2.  Change the "tomcat" user by changing the line
			<user username="tomcat" password="tomcat" roles="tomcat"/>
		to
			 <user username="tomcat" password="tomcat" roles="tomcat,manager"/>
		NOTE: YOU may also want to change the username and password fields for security reasons
	3. Save changes and close the file
-Run Tomcat
	1. Start tomcat
		commands:
			sh $CATALINA_HOME/bin/startup.sh
	2. Verify Tomcat s running by opening a browser and visiting http://my-machine:8080
		where my-machine-ip is the IP address or hostname of the machine on which Tomcat is running
		
=====================================
3. Install Axis2
=====================================
- Download
	1. Visit the axis2 release 1.1.1 download page at http://ws.apache.org/axis2/download/1_1_1/download.cgi
	2. You will need to download the following two disributions
		1. Standard Binary Distribution
		2. WAR (Web Archive) Distribution
- Install Standard Binary Distribution
	1. Unzip the "Standard Binary Distribution"
	2. Move the unzipped folder to a directory under which you want to keep Axis2 (i.e. /usr/local/axis2)
	3. Set the AXIS2 environment variable to the location of the directory set in the previous step
		commands:
			AXIS2_HOME=/usr/local/axis2
			export AXIS2_HOME
- Install WAR on Tomcat
	1. Open a browser and visit http://my-machine:8080/manager/html
	2. Login using the manager username and password set during "Install Tomcat 5.5" above
	3. Scroll down to the "WAR file to deploy" and click "Choose File"
	4. Choose the axis2.war file downloaded in step 2
	5. Click "Deploy"
	6. Axis2 should now be installed and running under Tomcat

=====================================
4. Install NARB web services
=====================================
- Download and setup
	1. Download the NARB-WS package from http://hopibruw.internet2.edu/narb-ws.zip
	2. Unzip the package
	3. Move the folder to a location where you would like the NARB-WS files to reside (i.e. /usr/local/narb-ws)
	4. Set the environment variable NARBWS_HOME
		commands:
			NARBWS_HOME=/usr/local/narb-ws
			export NARBWS_HOME
- Configure properties file
	1. Open the $NARBWS_HOME/narb-ws.properties file using a text editor
	2. Change the narb.address field to the IP of the NARB API server (i.e. if on the same machine set to 127.0.0.1)
	3. Change the narb.port field to the port on which the NARB API server is running (i.e. 2609)
	4. Save changes and close text editor
- Deploy service
	1. Open a browser and go to http://my-machine:8080/axis2/axis2-admin
	2. Login with user: admin and password: axis2 (these are default values. if you configured something else you will need to use those login credentials)
	3. Click on "Upload Service"
	4. Click "Choose File" and select $NARBWS_HOME/NARB.aar
	5. Click "Upload"
	6. Restart tomcat
		commands:
			sh $CATALINA_HOME/bin/startup.sh
			sh $CATALINA_HOME/bin/shutdown.sh
	7. The NARB web service should now be running

=====================================
5. Run NARB WS test client
=====================================
- Run client
	1. Go to the test-client directory:
		command:
			cd $NARBWS_HOME/test-client
	2. Run narb_ws_test.sh passing the URL of the web service as a parameter
		command:
			sh narb_ws_test.sh http://127.0.0.1:8080/axis2/services/NARB
	3. Enter request information
	4. A path should be displayed